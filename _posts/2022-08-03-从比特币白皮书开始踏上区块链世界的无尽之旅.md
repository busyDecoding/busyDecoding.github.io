---

layout: post
title: "从比特币白皮书开始踏上区块链世界的无尽之旅"
categories: [区块链]
tags: [区块链, 比特币]
author: busydecoding

---

# 从比特币白皮书开始踏上区块链世界的无尽之旅

在前边的九篇文章中，我依次论述了比特币白皮书主要涉及到的内容，它们分别是：

1.比特币的诞生与去中心化网络

2.比特币到底长什么样子

3.神奇的哈希HASH

4.非对称加密

5.数字签名

6.比特币是一条数字签名链

7.区块链：去中心化账本

8.比特币的共识协议：Proof of Work工作量证明机制

9.默克尔树：让网络节点更“轻”

白皮书余下的内容还有“合并和分割交易额”、“隐私”和“计算”，我们来简单地过一下。

### 合并和分割交易额

因为比特币并没有账户的概念，所以你拥有的比特币实际上是存在于多个交易链尾部的未花费输出。

你的可花费比特币实际上是零散地分布在若干比交易中的。为了便于使用这些零散的比特币，比特币网络允许交易包含多个输入值和输出值。

输入值可以是一个组合，该组合包括了从之前交易而得的一个较大输入值或多个较小输入值。输出则最多有两个，一个是支付，一个是找零。如下图所示：

![合并和分割交易额](/assets/img/posts/合并和分割交易额.png)

这样一笔交易依赖于之前的多笔交易，而它们又依赖于更多的交易。如果为了完成一笔交易而回溯之前所有相关交易的历史以避免双花，那么工作量会过于巨大。

为了提高效率，比特币网络节点只会遍历所有交易历史一次，然后创建出一个还没有被用过的交易输出的列表，或者叫清单。而未花费的交易输出，即Unspent Transaction Outputs，简称UTXO。

有了UTXO清单，节点在验证交易时，就只需要扫描清单了，而不是每次都低效率地扫描完整的历史数据。当一笔交易成功上链，节点就将其花费的UTXO从清单中移除，然后再加入该交易产生的新UTXO。

### 隐私

在传统的银行模型中进行的交易信息是不会向公众开放的。这些敏感的信息存放在银行内部，被严格的法律法规所保护着。因此可信任的银行、健全的法律法规和相关的监管机构一起构成了保障用户隐私的墙，其方式就是隔断公众对他人交易信息的获取。

而在比特币网络中，所有的交易信息是公开的。因此隔断公众对他人交易信息的获取以保护隐私的方式是行不通的。但因为公钥的匿名性，隐私仍然是可以在一定程度上被保护的。即所有人都可以看到他人的交易信息，但你并不知道这些人是谁。

两种不同的隐私模型如下图所示：

![隐私模型](/assets/img/posts/隐私模型.png)

中本聪在比特币白皮书中也讲到了隐私的风险，因为有多输入值交易的存在，这就暴露了这些地址很有可能是属于同一个用户的。近些年很多链上分析技术的兴起也证实了这一点的可能性。

为了加强比特币的隐私性，社区也提出了很多新的提案，如混币、侧链、闪电网络等。在之后的文章中，我会逐一详细探讨这些新技术。

### 计算

在白皮书中，中本聪计算了攻击者追上诚实链的概率，如下图所示：

![概率计算](/assets/img/posts/概率计算.png)

计算的具体过程我就不展开了，感兴趣的朋友可以去看白皮书原文。计算的结果为攻击者追上诚实链的概率随落后的区块数z而呈指数下降，如下图：

![计算结果](/assets/img/posts/计算结果.png)

根据计算结果，一般认为等6个区块确认后的比特币交易就可以被认为是不可篡改了。

### 无尽之旅

写完这篇文章，我已经聊了比特币白皮书中的主要内容。相信通过白皮书，大家对比特币的基本原理已经有了一个基础认识。

但我们的比特币之旅并不会就此停下。

因为比特币网络是一个拥有极强生命力、蓬勃发展、不断变化的事物。比特币网络在2008年被中本聪首次提出，到现在已经有十几年的历史了。在此期间，社区开发者仍在不断优化它，以期达到它诞生时的愿景：一种在全球自由流通的世界级货币。

各种旨在优化比特币的提案层出不穷，比如希望提高比特币隐私保护的混币等技术，希望提高比特币交易吞吐量的大区块、侧链、闪电网络等技术。

这正是比特币乃至整个区块链世界最有魅力、最吸引我的地方所在 —— 去中心化带来了自由，自由激发了创新。

去中心化，尤其是创始人中本聪的神隐，意味着没有人有权力对比特币说了算，一切都要靠社区共识。你如果不喜欢现在的比特币技术方案，你立马可以分叉出一条新的区块链出来。

（简单解释一下分叉。分叉即在主干网络之外开发一个与其不同的新版本网络。因为代码是开源的，所以这很容易做到。难点在于要有足够多的共识，即足够多的人愿意追随你这条新链。比如历史上真实发生过的，社区中的一部分人支持将比特币区块的大小上限从1MB提升到8MB，但该提案并没有在整个社区层面得到支持，因此他们分叉出一条新链，名为比特现金BCH。有关分叉这部分，我后续会讲。）

去中心化带来的自由激发了无数的创新，这让区块链世界非常性感。在比特币网络之后，很多新的区块链网络协议相继诞生（这一过程直到今天仍在发生）。其中最著名的区块链当属以太坊，而它的愿景是：世界计算机。以太坊提出了智能合约的概念，借此开发者可以将代码部署到以太坊网络上，由分布在全世界的以太坊节点运行。因此以太坊不像比特币一样单纯是一种货币，而是变成了一个平台。

除了不断涌现的新区块链网络协议，其他创新事物也层出不穷。比如加密货币交易所、去中心化应用Dapp、去中心化自治组织DAO、去中心化金融DeFi、首次代币发行ICO以及近几个月大火的非同质化代币NFT、游戏化金融GameFi等等。

可以看出，比特币其实也只是我们整个区块链世界之旅的首发站。在这趟旅途中，会有无数精彩的创新不断涌现，等待我们的发掘，因此可以说这是一场无尽之旅。

现在让我们一起踏上这趟无尽之旅，扬帆，启航！

